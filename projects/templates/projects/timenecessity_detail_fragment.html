{% load i18n %}

{% if table %}
  <table class="table table-sm">
{% endif %}

{% if headings %}
  <thead>
    <tr>
      <th scope='col'>{% trans 'Name' %}</th>
      <th scope='col'>{% trans 'Period' %}</th>
      <th scope='col'>{% trans 'Description' %}</th>
      {% if not short %}
        <th scope='col'>{% trans 'Price' %}</th>
        <th scope='col'>{% trans 'Count' %}</th>
      {% endif %}

      {% if member %}
        <th scope='col'>{% trans 'Candidates' %}</th>
      {% endif %}
    </tr>
  </thead>
{% endif %}

{% if not headings_only %}
<tr>
  <td>{{object.name}}</td>
  <td>{{object.start_date|date:"j M"}} to {{object.end_date|date:"j M"}}</td>
  <td>{{object.description|truncatewords:10}}</td>

  {% if not short %}
    <td>{{object.price}}</td>
    <td>{{object.accepted_support}}/{{object.count}}</td>
  {% endif %}
    {% if member %}
    <td>
      {{object.support_candidates.count}}
      {% if not list_candidates and not hide_details_link %}
        <a href="{{ object.get_absolute_url }}">{% trans 'See all' %}</a>
      {% endif %}
      {% if not hide_support_action %}
        <a class="" href="{% url 'projects:time_support_create' object.project.pk object.pk %}">{% trans 'Volunteer' %}</a>
      {% endif %}
    </td>
    {% endif %}
</tr>
{% endif %}

{% if table %}
  </table>
{% endif %}

{% if list_candidates %}
  {% for support in object.supports.all %}
    {% include "projects/support_detail_fragment.html" with object=support user=user only %}
  {% endfor %}
{% endif %}

